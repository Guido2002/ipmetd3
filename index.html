<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://unpkg.com/aframe-area-light-component/dist/aframe-area-light-component.min.js"></script> 
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/cig.js"></script>
    <script src="/js/door.js"></script>
    <script src="/js/teleport.js"></script>
    <script src="/js/beer.js"></script>
    <title>Bunker Festival</title>
</head>
<body>
    <a-scene stats fog="type: linear; color:  #121212 ; far: 30; near: 0">
        <a-assets>
            <a-asset-item id="tunnel" src="glb_models/maze.glb"></a-asset-item>
            <a-asset-item id="lights" src="glb_models/lights.glb"></a-asset-item>
            <a-asset-item id="speaker" src="glb_models/speaker.glb"></a-asset-item>
            <a-asset-item id="tafel" src="glb_models/tafel.glb"></a-asset-item>
            <a-asset-item id="pil" src="glb_models/pil.glb"></a-asset-item>
            <img src="/textures/album1.jpg" id="album" alt="poster van alle albums van dire straits">
            <img src="/textures/poster_dire.jpg" id="poster1" alt="poster van dire straits">
            <img src="/textures/mk_1980.jpg" id="poster2" alt="poster van dire straits">
            <img src="/textures/mk_1992.jpg" id="poster3" alt="poster van dire straits">
            <img src="/textures/posterwall.png" id="posterwall" alt="postermuur dire straits">
            <img src="/textures/doorwall_1.png" id="doorwall1" alt="postermuur dire straits">
            <img src="/textures/doorwall_2.png" id="doorwall2" alt="postermuur dire straits">
            <img src="/textures/doorwall_3.png" id="doorwall3" alt="postermuur dire straits">
            <img src="/textures/videowall.png" id="videowall" alt="postermuur dire straits">
            <img src="/textures/strat.png" id="strat" alt="">
            <video id="video2" playsinline webkit-playsinline preload=auto loop="true" autoplay src="video/test_2.mp4"></video>
            <audio src="/audio/normal_video2.wav" id="normal2" preload=auto ></audio>
            <audio src="/audio/drug_video2.wav" id="drug3" preload=auto></audio>
        </a-assets>

        <a-camera id="js--camera" position="-16 1.5 14">
                <a-entity
                    animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1"
                    animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 300; from: 1 1 1; to: 0.1 0.1 0.1"
                    animation="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 200; to: 1 1 1"
                    cursor = "fuse: true; fuseTimeout: 300"
                    material = "color: black; shader: flat"
                    geometry = "primitive: ring; radiusInner: 0.007; radiusOuter: 0.01"
                    position = "0 0 -0.5"
                    raycaster="far: 8 interval: 300; objects: .x, .door"
                >
                </a-entity>
            <a-entity light="type: point; intensity: 1"></a-entity>
        </a-camera>

        <a-entity light="type: point; color: #BBB; intensity: 0.1"></a-entity>

        <a-entity gltf-model="#tunnel" position="0 0 0"></a-entity>

        <a-video src="#video2" id="vid2" width= "6" height="3" position="-16 2 17.9" rotation="0 180 0">
            <a-entity id="drug2" position="0 0 3.5" sound="src: #normal2; loop: true; autoplay:true; maxDistance: 1;"></a-entity>
            <a-entity gltf-model="#tafel" position="0.6 -2 2.5">
                <a-entity gltf-model="#pil" position="-0.7 1 0.2" class="x drug-object" onclick="setDrugEffect()">
                
                </a-entity>
            </a-entity>
            <a-entity  position="3 1.9 0.5"  rotation="270 180 0" area-light="intensity:30; width:6; height:0.1; color: green;"></a-entity>
        </a-video>

        <!-- speakers & lights vid2 -->
        <a-entity gltf-model="#speaker" position="-19 0 17.5" scale="0.8 0.8 0.8" rotation="0 85 0"></a-entity>
        <a-entity gltf-model="#speaker" position="-13 0 17.5" scale="0.8 0.8 0.8" rotation="0 95 0"></a-entity>
        <a-entity gltf-model="#lights" position="-16 3.9 17.3" scale="0.5 0.5 0.5" rotation="0 -90 20"></a-entity>
        <a-plane src="#poster1" position="-19.9 2 16" width="2" height="1.5"  rotation="0 90 0">
            <a-entity scale="4 4 4"  text="value:1977; color:#FFFFFF; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/anton/Anton-Regular.json;" position="1.8 0.8 0"></a-entity>
        </a-plane>

        <!-- <a-plane src="#album" position="-12.1 2 14" width="2.9" height="3.9"  rotation="0 -90 0"></a-plane> -->
        <a-plane src="#posterwall" position="-12.05 2 14" width="8" height="4" rotation="0 -90 0"></a-plane>

        <a-plane src="#doorwall1" position="-18.5 2 10.01" width="3" height="4" rotation="0 0 0"></a-plane>
        <a-plane src="#doorwall2" position="-16 3.25 10.01" width="2" height="1.5" rotation="0 0 0"></a-plane>
        <a-plane src="#doorwall3" position="-13.5 2 10.01" width="3" height="4" rotation="0 0 0"></a-plane>

        <a-plane src="#videowall" position="-16 2 17.99" width="8" height="4" rotation="0 180 0"></a-plane>

        <a-image src="#poster2" position="-19.9 2 14" width="2" height="1.5"  rotation="0 90 0">
            <a-entity scale="4 4 4" text="value:1982; color:#FFFFFF; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/anton/Anton-Regular.json;" position="1.8 0.8 0"></a-entity>
        </a-image>
        <a-image src="#poster3" position="-19.9 2 12" width="2" height="1.5"  rotation="0 90 0">
            <a-entity scale="4 4 4"  text="value:1992; color:#FFFFFF; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/anton/Anton-Regular.json;" position="1.8 0.8 0"></a-entity>
        </a-image>

        <a-plane class="x platform" id="so4"  position="-18 0.2 13" color=red rotation="270 180 0" ></a-plane>
        <a-plane class="x platform" id="so5"  position="-16 0.2 14" color=red rotation="270 180 0" ></a-plane>
        <a-plane class="x platform" id="so6"  position="-14 0.2 13" color=red rotation="270 180 0" ></a-plane>
    </a-scene>

</body>
</html>
