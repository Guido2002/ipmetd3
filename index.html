<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://unpkg.com/aframe-area-light-component/dist/aframe-area-light-component.min.js"></script> 
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/cig.js"></script>
    <script src="/js/teleport.js"></script>
    <title>Bunker Festival</title>
</head>
<body>
    <a-scene fog="type: linear; color:  #121212 ; far: 30; near: 0">
        <a-assets>
            <a-asset-item id="tunnel" src="glb_models/maze.glb"></a-asset-item>
            <a-asset-item id="fakkel" src="glb_models/fakkel.glb"></a-asset-item>
            <a-asset-item id="cig" src="glb_models/cig.glb"></a-asset-item>
            <a-asset-item id="asbak" src="glb_models/asbak.glb"></a-asset-item>
            <a-asset-item id="pil" src="glb_models/pil.glb"></a-asset-item>
            <a-asset-item id="tafel" src="glb_models/tafel.glb"></a-asset-item>
            <a-asset-item id="door1" src="glb_models/door1.glb"></a-asset-item>
            <video id="video1" autoplay loop="true" src="video/test.mp4"></video>
            <img id="poster" src="textures/poster.jpg">
            <img id="poster2" src="textures/poster2.jpg">
        </a-assets>

        <a-camera id="js--camera" position="0 1.5 0">
                <a-entity
                    animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1"
                    animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 2000; from: 1 1 1; to: 0.1 0.1 0.1"
                    animation="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1"
                    cursor = "fuse: true; fuseTimeout: 2000"
                    material = "color: black; shader: flat"
                    geometry = "primitive: ring; radiusInner: 0.007; radiusOuter: 0.01"
                    position = "0 0 -0.5"
                    raycaster="far: 20; interval: 1000; objects: .x"
                >
                </a-entity>
            <a-entity light="type: ambient; color: rgb(255, 153, 51); intensity: 0.5"></a-entity>
        </a-camera>

        <a-entity light="type: point; color: #BBB; intesity: 0.1"></a-entity>
        <a-plane src="#poster" position="-1.5 1.5 -1.99" width="0.5" height="1"></a-plane>
        <a-plane src="#poster2" position="1.5 1.5 -1.99" width="0.5" height="1"></a-plane>

        <a-entity gltf-model="#tunnel" position="0 0 0"></a-entity>
        <a-entity gltf-model="#tafel" position="10 0 15"></a-entity>
        <a-entity gltf-model="#cig" class="x js--pickup" cig position="10 1 15" rotation="0 0 90"></a-entity>
        <a-entity gltf-model="#cig" class="x js--pickup" cig position="10 1 14.96" rotation="0 0 90"></a-entity>
        <a-entity gltf-model="#cig" class="x js--pickup" cig position="10 1 14.98" rotation="0 0 90"></a-entity>
        <a-entity gltf-model="#cig" class="x js--pickup" cig position="10 1 14.94" rotation="0 0 90"></a-entity>
        <a-entity gltf-model="#cig" class="x js--pickup" cig position="10 1 14.92" rotation="0 0 90"></a-entity>
        <a-entity gltf-model="#cig" class="x js--pickup" cig position="10 1 14.90" rotation="0 0 90"></a-entity>
        <a-entity gltf-model="#asbak" position="9.8 1 15.3"></a-entity>
        <a-entity gltf-model="#pil" class="x drug-object" position="10 1 15.5"  onclick="setDrugEffect()"></a-entity>

        <a-video src="#video1" vid="vid1" width= "6" height="3" position="12 2 21.9" rotation="0 180 0">
            <a-entity class="drug" sound="src: url(/audio/normal_video1.wav); autoplay: true; loop: true"></a-entity>
            <a-entity  position="2 1.9 2"  rotation="270 180 0" area-light="intensity:30; width:2; height:0.1; color: red;"></a-entity>
            <a-entity  position="3 1.9 2"  rotation="270 180 0" area-light="intensity:30; width:2; height:0.1; color: red;"></a-entity>
            <a-entity  position="0 1.9 2"  rotation="270 180 0" area-light="intensity:30; width:2; height:0.1; color: red;"></a-entity>
        </a-video>

        <a-entity id="fog" environment="fog: 0;" position="0 10 0"></a-entity>



        <a-entity gltf-model="#tafel" class="x js--pickup" position="-18 0 11"></a-entity>
        <a-entity gltf-model="#cig" class="x js--pickup" cig position="-18 1 11" rotation="0 0 90"></a-entity>
        <a-entity gltf-model="#cig" class="x js--pickup" cig position="-18 1 10.96" rotation="0 0 90"></a-entity>
        <a-entity gltf-model="#cig" class="x js--pickup" cig position="-18 1 10.98" rotation="0 0 90"></a-entity>
        <a-entity gltf-model="#cig" class="x js--pickup" cig position="-18 1 10.94" rotation="0 0 90"></a-entity>
        <a-entity gltf-model="#cig" class="x js--pickup" cig position="-18 1 10.92" rotation="0 0 90"></a-entity>
        <a-entity gltf-model="#cig" class="x js--pickup" cig position="-18 1 10.9" rotation="0 0 90"></a-entity>
        <a-entity gltf-model="#asbak" position="-18.2 1 11.3"></a-entity>
        <a-entity gltf-model="#pil" class="x" position="-18.4 1 11.6"></a-entity>

        <a-entity gltf-model="#fakkel" class="x fakkels"  position="-1 1.5 -3" shader="flat" onmouseleave="toggleLight(1,1)">
        <a-entity id="fakkel1" light="type: point; color: white; intensity: 1; distance: 3;" position="1 0 0"></a-entity>

        <a-entity gltf-model="#fakkel" class="x fakkels"  position="0 0 -4"  shader="flat" onmouseleave="toggleLight(2,2)"></a-entity>
        <a-entity id="fakkel2" light="type: point; color: white; intensity: 1; distance: 3;" position="1 0 -3"></a-entity>

        <a-entity gltf-model="#fakkel" class="x fakkels"  position="0 0 -8"  shader="flat" onmouseleave="toggleLight(3,3)"></a-entity>
        <a-entity id="fakkel3" light="type: point; color: white; intensity: 1; distance: 3;" position="1 0 -8"></a-entity>

        <a-entity gltf-model="#door1" position="1 -1.5 1"  rotation="0 180 0" animation-mixer></a-entity>

    </a-scene>

</body>
</html>
